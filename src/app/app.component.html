<div class="app-container">
  <!-- Title Bar -->
  <header class="title-bar">
    <button class="menu-button" (click)="toggleNav()">
      ☰
    </button>
    <h1>AI-COS</h1>
  </header>

  <div class="main-layout">
    <!-- Side Navigation Bar -->
    <nav class="side-nav" [class.closed]="isNavClosed">
      <ul>
        <li [routerLink]="'/dashboard'" routerLinkActive="active">
          <span class="barIcon"><svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24">
            <path d="M21.085,6.758c-.07-.149-.176-.279-.308-.377-.13-.097-.262-.195-.395-.293V3.537c0-.552-.447-1-1-1s-1,.448-1,1v1.1c-2.695-1.912-5.398-3.637-6.383-3.637-1.299,0-5.49,2.927-8.778,5.382-.133,.1-.24,.231-.31,.383-.047,.102-1.154,2.562-1.154,7.578,0,2.165,.202,5.37,.432,6.858,.059,.38,.33,.692,.698,.804,.134,.041,3.346,.995,9.112,.995s8.977-.955,9.11-.995c.367-.112,.639-.424,.697-.804,.231-1.498,.435-4.703,.435-6.858,0-5.059-1.11-7.483-1.157-7.584Zm-11.17,14.196v-4.073c0-1.211,.936-2.196,2.085-2.196s2.085,.985,2.085,2.196v4.073c-.65,.029-1.345,.046-2.085,.046s-1.435-.017-2.085-.046Zm10.002-.711c-.704,.159-2.002,.407-3.832,.576v-3.938c0-2.314-1.832-4.196-4.085-4.196s-4.085,1.882-4.085,4.196v3.938c-1.83-.168-3.129-.417-3.834-.576-.178-1.559-.323-4.132-.323-5.901,0-3.724,.653-5.875,.888-6.527,2.938-2.181,6.457-4.55,7.353-4.804,.893,.258,4.415,2.627,7.358,4.806,.235,.649,.886,2.778,.886,6.525,0,1.763-.146,4.337-.325,5.901Z"/>
          </svg>
          </span>
          <span class="text" *ngIf="!isNavClosed">主頁</span>
        </li>
        <li [routerLink]="'/history'" routerLinkActive="active">
          <span class="barIcon"><svg xmlns="http://www.w3.org/2000/svg" id="Layer_1" data-name="Layer 1" viewBox="0 0 24 24" width="512" height="512"><path d="M16,18h-4c-.552,0-1-.447-1-1s.448-1,1-1h4c.552,0,1,.447,1,1s-.448,1-1,1Zm5,1V7c0-2.757-2.243-5-5-5h-.171c-.413-1.164-1.525-2-2.829-2h-2c-1.304,0-2.416,.836-2.829,2h-.171c-2.757,0-5,2.243-5,5v12c0,2.757,2.243,5,5,5h8c2.757,0,5-2.243,5-5ZM9,4c.552,0,1-.447,1-1s.449-1,1-1h2c.551,0,1,.448,1,1s.448,1,1,1h1c1.654,0,3,1.346,3,3v12c0,1.654-1.346,3-3,3H8c-1.654,0-3-1.346-3-3V7c0-1.654,1.346-3,3-3h1Zm-1,12c-.552,0-1,.448-1,1s.448,1,1,1,1-.448,1-1-.448-1-1-1Zm9-3c0-.553-.448-1-1-1h-4c-.552,0-1,.447-1,1s.448,1,1,1h4c.552,0,1-.447,1-1Zm-9-1c-.552,0-1,.448-1,1s.448,1,1,1,1-.448,1-1-.448-1-1-1Zm9-3c0-.553-.448-1-1-1h-4c-.552,0-1,.447-1,1s.448,1,1,1h4c.552,0,1-.447,1-1Zm-9-1c-.552,0-1,.448-1,1s.448,1,1,1,1-.448,1-1-.448-1-1-1Z"/></svg>
          </span>
          <span class="text" *ngIf="!isNavClosed">歷史記錄</span>
        </li>
        <li [routerLink]="'/chiller'" routerLinkActive="active">
          <span class="barIcon">
            <svg id="Layer_1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1">
              <path
                d="m16.5 9.135c.071-1.7-1.295-3.139-3-3.135-.524 0-1.043.141-1.5.408-.456-.267-.974-.408-1.5-.408-1.706-.004-3.071 1.436-3 3.136-.939.654-1.5 1.726-1.5 2.864 0 .925.374 1.859 1 2.499 0 1.931 1.57 3.501 3.5 3.501.523 0 1.028-.115 1.5-.344.471.228.975.344 1.5.344 1.93 0 3.5-1.57 3.5-3.5.626-.641 1-1.575 1-2.5 0-1.14-.56-2.21-1.5-2.865zm-6 6.865c-.827 0-1.5-.673-1.5-1.5v-.407c0-.261-.102-.512-.284-.698l-.286-.293c-.265-.271-.43-.693-.43-1.102 0-.485.24-.942.642-1.223l.429-.298c.269-.187.429-.494.429-.821v-.658c0-.723.851-1.243 1.49-.865l.009.005v7.761c-.16.06-.326.099-.5.099zm5.069-2.897-.285.292c-.182.187-.284.438-.284.698v.407c0 .827-.673 1.5-1.5 1.5-.174 0-.339-.039-.5-.099v-7.761s.008-.005.008-.005c.151-.088.321-.135.491-.135.551 0 1 .448 1 1v.657c0 .327.161.635.429.821l.428.297c.403.281.643.738.643 1.225 0 .408-.165.83-.431 1.103zm7.431-2.103c.552 0 1-.447 1-1s-.448-1-1-1h-1v-2h1c.552 0 1-.447 1-1s-.448-1-1-1h-1.424c-.504-1.149-1.427-2.072-2.576-2.576v-1.424c0-.553-.448-1-1-1s-1 .447-1 1v1h-2v-1c0-.553-.448-1-1-1s-1 .447-1 1v1h-2v-1c0-.553-.448-1-1-1s-1 .447-1 1v1h-2v-1c0-.553-.448-1-1-1s-1 .447-1 1v1.424c-1.149.504-2.072 1.427-2.576 2.576h-1.424c-.552 0-1 .447-1 1s.448 1 1 1h1v2h-1c-.552 0-1 .447-1 1s.448 1 1 1h1v2h-1c-.552 0-1 .447-1 1s.448 1 1 1h1v2h-1c-.552 0-1 .447-1 1s.448 1 1 1h1.424c.504 1.149 1.427 2.072 2.576 2.576v1.424c0 .553.448 1 1 1s1-.447 1-1v-1h2v1c0 .553.448 1 1 1s1-.447 1-1v-1h2v1c0 .553.448 1 1 1s1-.447 1-1v-1h2v1c0 .553.448 1 1 1s1-.447 1-1v-1.424c1.149-.504 2.072-1.427 2.576-2.576h1.424c.552 0 1-.447 1-1s-.448-1-1-1h-1v-2h1c.552 0 1-.447 1-1s-.448-1-1-1h-1v-2zm-3 6c0 1.654-1.346 3-3 3h-10c-1.654 0-3-1.346-3-3v-10c0-1.654 1.346-3 3-3h10c1.654 0 3 1.346 3 3z" />
            </svg>
          </span>
          <span class="text" *ngIf="!isNavClosed">智慧控制頁面</span>
        </li>
      </ul>
      <div class="side-nav-footer">
        <img src="assets/logo_no_bg.png" alt="Logo">
      </div>
    </nav>

    <div class="main-layout">
    <nav class="side-nav" [class.closed]="isNavClosed">
      <ul>
        <ng-container *ngIf="isLoggedIn">
          <li [routerLink]="'/dashboard'" routerLinkActive="active">
            <span class="text">主頁</span>
          </li>
          <li [routerLink]="'/history'" routerLinkActive="active">
            <span class="text">歷史記錄</span>
          </li>
          <li [routerLink]="'/chiller'" routerLinkActive="active">
            <span class="text">智慧控制頁面</span>
          </li>
        </ng-container>

        <li *ngIf="!isLoggedIn" [routerLink]="'/login'" routerLinkActive="active">
          <span class="text">LogIn</span>
        </li>
      </ul>
    </nav>
    

    <!-- Main Content -->
    <main class="content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
